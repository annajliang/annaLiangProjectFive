(this["webpackJsonpcanvas-react"]=this["webpackJsonpcanvas-react"]||[]).push([[0],{33:function(e,t,a){e.exports=a.p+"static/media/nounErase.3ae3e76f.svg"},34:function(e,t,a){e.exports=a.p+"static/media/nounRedo.29731122.svg"},35:function(e,t,a){e.exports=a.p+"static/media/nounSave.ad82d4d9.svg"},37:function(e,t,a){e.exports=a(60)},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),s=a.n(o),c=a(2),l=a(3),i=a(5),u=a(4),m=a(8),d=a(10),h=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),a}(r.a.Component),g=Object(d.e)(h),p=a(32),w=a.n(p),f=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).sweetAlert=function(){w()(r.a.createElement("ul",{class:"howToPlayModal"},r.a.createElement("h4",null,"how to play"),r.a.createElement("li",null,"Draw the word that appears at the very top of the canvas."),r.a.createElement("li",null,"Use the buttons near the canvas to erase, clear or change colors."),r.a.createElement("li",null,"Once you're ready, click save to post it to the gallery and share it with the entire world."),r.a.createElement("li",null,"Click gallery to see what other users drew or click guess to get a random drawing chosen for you.")))},e.state={idArray:[]},e}return Object(l.a)(a,[{key:"render",value:function(){return console.log("randomDrawingObj from navbar.js",this.props.randomDrawingObj),console.log("NAVBAR.js i rendered"),r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("h1",null,"Draw It"),r.a.createElement("span",{className:"divider"},"|"),r.a.createElement("ul",{className:"navbarLinks"},r.a.createElement("li",null,r.a.createElement(m.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/",className:"instructionsLink",onClick:this.sweetAlert},"Instructions")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/gallery"},"Gallery")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/guess/".concat(this.props.randomDrawingObj.drawingId),onClick:this.props.onClick},"Guess")))))}}]),a}(n.Component),v=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"navbarContainer wrapper"},r.a.createElement(f,{randomDrawingObj:this.props.randomDrawingObj,onClick:this.props.getRandomId})))}}]),a}(n.Component),b=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getHexColor=function(t){var a=t.currentTarget.value;e.props.onClick(a)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.props.onClick,className:"canvasButton"},r.a.createElement("span",{className:"buttonText"},r.a.createElement("label",{htmlFor:"colorSelection"},"Color",r.a.createElement("span",{"aria-hidden":"true"},"\u2002|\u2002")),r.a.createElement("input",{name:"colorSelection",id:"colorSelection",type:"color",className:"colorSelection",onChange:this.getHexColor})))}}]),a}(n.Component),E=a(33),y=a.n(E),k=function(e){return r.a.createElement("button",{onClick:e.onClick,className:"canvasButton"},r.a.createElement("span",{className:"buttonText"},"Erase",r.a.createElement("span",{"aria-hidden":"true"},"\u2002|\u2002"),r.a.createElement("img",{src:y.a,alt:""})))},j=a(34),C=a.n(j),O=function(e){return r.a.createElement("button",{onClick:e.onClick,className:"canvasButton"},r.a.createElement("span",{className:"buttonText"},"Clear",r.a.createElement("span",{"aria-hidden":"true"},"\u2002|\u2002"),r.a.createElement("img",{src:C.a,alt:""})))},I=a(35),D=a.n(I),x=function(e){return r.a.createElement("button",{onClick:e.onClick,className:"canvasButton"},r.a.createElement("span",{className:"buttonText"},"Save",r.a.createElement("span",{"aria-hidden":"true"},"\u2002|\u2002"),r.a.createElement("img",{src:D.a,alt:""})))},N=function(e){return r.a.createElement("div",{className:"buttonContainer"},r.a.createElement(b,{onClick:e.colorFn}),r.a.createElement(k,{onClick:e.eraseFn}),r.a.createElement(O,{onClick:e.clearFn}),r.a.createElement(x,{onClick:e.saveFn}))},S=function(){return r.a.createElement("ul",{className:"howToPlay"},r.a.createElement("h4",null,"how to play"),r.a.createElement("li",null,"Draw the word that appears at the very top of the canvas."),r.a.createElement("li",null,"Use the buttons near the canvas to erase, clear or change colors."),r.a.createElement("li",null,"Once you're ready, click save to post it to the gallery and share it with the entire world."),r.a.createElement("li",null,"Click gallery to see what other users drew or click guess to get a random drawing chosen for you."))},A=["dignity","lady bug","lamp","brain","computer","owl","facebook","zombie","eel","stairs","pirate","space","cucumber","mask","kiss","mermaid","tire","rainbow","giraffe","eiffel tower","twitter","junk mail","north pole","ferris wheel","selfie","bikini","angry","hat","bottle","cup","foot","music","mouse","safe","bed","pillow","helmet","chicken","exercise","beard","hoodie","coffee","cannonball","pool","eggplant","escape room","beer","spoon","video games","knife","gun","rocket","quarantine","virus","lemonade","frog","stockings","high heels","garbage can","bubble gum","cabin","canoe","ocean","castle","mountain","life","death","board game","monopoly","capitalism"],M=a(20),T=a.n(M);a(57);T.a.initializeApp({apiKey:"AIzaSyDJMPBCvkt5jm42SNAKITYsqY9VuKJgZ0k",authDomain:"drawitreact.firebaseapp.com",databaseURL:"https://drawitreact.firebaseio.com",projectId:"drawitreact",storageBucket:"drawitreact.appspot.com",messagingSenderId:"1045921778796",appId:"1:1045921778796:web:794f48bdd9dd8474cc5c49"});var U=T.a,R=a(36),W=a.n(R),B=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).startDrawing=function(t){e.isDrawing=!0,e.draw(t)},e.draw=function(t){e.isDrawing&&(e.ctx.lineTo(t.nativeEvent.offsetX,t.nativeEvent.offsetY),e.ctx.stroke(),e.ctx.beginPath(),e.ctx.moveTo(t.nativeEvent.offsetX,t.nativeEvent.offsetY))},e.stopDrawing=function(){e.isDrawing=!1,e.ctx.beginPath()},e.changeColor=function(t){e.ctx.strokeStyle=t},e.clearCanvas=function(){e.ctx.clearRect(0,0,450,500)},e.eraseCanvas=function(){e.ctx.strokeStyle="#fff"},e.getRandomWord=function(e){return e[Math.floor(Math.random()*e.length)]},e.saveDrawing=function(){var t=e.canvas.current.toDataURL(),a=e.state.drawingWord,n=U.database().ref();e.isCanvasBlank(e.canvas.current)?e.setState({showModal:!0,modalText:"Please draw something before saving your work to the gallery.",modalHeader:"Oops..."}):(n.push({drawingUrl:t,drawingWord:a}),e.clearCanvas(),e.setState({showModal:!0,modalText:"Your drawing has been saved to the gallery. Go check it out!",modalHeader:"Success!"}))},e.isCanvasBlank=function(t){return!new Uint32Array(e.ctx.getImageData(0,0,t.width,t.height).data.buffer).some((function(e){return 0!==e}))},e.isDrawing=!1,e.canvas=r.a.createRef(),e.state={drawingWord:"",showModal:!1,modalText:"",modalHeader:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.ctx=this.canvas.current.getContext("2d"),this.ctx.strokeStyle="#000",this.ctx.lineWidth=7,this.ctx.lineJoin="round",this.ctx.lineCap="round",this.setState({drawingWord:this.getRandomWord(A)})}},{key:"render",value:function(){var e=this;return r.a.createElement("main",null,r.a.createElement("section",null,r.a.createElement("h2",{className:"drawItHeading"},"Draw It ",r.a.createElement("span",{"aria-hidden":"true"},"\u270f\ufe0f")),r.a.createElement("div",{className:"drawItContainer wrapper"},r.a.createElement(N,{colorFn:this.changeColor,clearFn:this.clearCanvas,eraseFn:this.eraseCanvas,saveFn:this.saveDrawing}),r.a.createElement(W.a,{show:this.state.showModal,title:this.state.modalHeader,text:this.state.modalText,onConfirm:function(){return e.setState({showModal:!1})}}),r.a.createElement("div",{className:"canvasAndHowTo"},r.a.createElement("h3",null,this.state.drawingWord),r.a.createElement("canvas",{ref:this.canvas,className:"canvas",onMouseDown:this.startDrawing,onMouseMove:this.draw,onMouseUp:this.stopDrawing,width:450,height:500}),r.a.createElement(S,null)))))}}]),a}(n.Component),H=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("p",null,"Anna Liang ",r.a.createElement("span",{"aria-hidden":"true"},"\xa9")," 2020")))},F=a(21),G=a.n(F),P=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).checkUserInput=function(t){t.preventDefault();var a=e.state.userInput,n=e.state.correctGuess;a.toLowerCase().replace(/\s/g,"")===n.replace(/\s/g,"")?G.a.fire({title:"Correct!",text:"You are a guessing master. Great job!"}):G.a.fire({title:"Wrong!",text:"Sorry that was the incorrect answer. Please guess again."})},e.getUserInput=function(t){e.setState({userInput:t.target.value})},e.setMatchingImgAndWord=function(t){var a=t.filter((function(t){return t.drawingId===e.props.match.params.imgId}));a.length>0&&(console.log("findMatchId",a),e.setState({correctGuess:a[0].drawingWord,drawingUrl:a[0].drawingUrl}))},e.state={userInput:"",correctGuess:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setMatchingImgAndWord(this.props.drawings)}},{key:"componentDidUpdate",value:function(e){e.match.params.imgId!==this.props.match.params.imgId&&this.setMatchingImgAndWord(this.props.drawings)}},{key:"render",value:function(){return r.a.createElement("section",{className:"guessSection"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"guessContainer"},r.a.createElement("h2",{className:"guessItHeading"},"Guess It ",r.a.createElement("span",{"aria-hidden":"true"},"\ud83e\udd14")),r.a.createElement("div",{className:"guessDrawing"},r.a.createElement("span",{className:"buttonText"},r.a.createElement("img",{src:this.state.drawingUrl,alt:""}))),r.a.createElement("p",null,"Type your guess into the input bar below."),r.a.createElement("form",{action:"submit",onSubmit:this.checkUserInput},r.a.createElement("input",{type:"text",value:this.state.userInput,onChange:this.getUserInput,className:"guessInput"}),r.a.createElement("button",{type:"submit",className:"guessButton"},"Submit")))))}}]),a}(n.Component),L=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"gallery"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h2",{className:"seeItHeading"},"See It ",r.a.createElement("span",{"aria-hidden":"true"},"\ud83d\udc40")),r.a.createElement("p",null,"A collection of drawings done by other users around the globe!"),r.a.createElement("p",null,"Marvel at their beauty or click the drawing to play along and try to guess what"),r.a.createElement("p",null,"you think the user was trying to draw."),r.a.createElement("ul",{className:"galleryGrid"},this.props.drawings.map((function(e){return r.a.createElement("li",{className:"userDrawing",key:e.drawingId},r.a.createElement("span",{className:"buttonText"},r.a.createElement(m.b,{to:"/guess/".concat(e.drawingId)},r.a.createElement("img",{src:e.drawingUrl,alt:""}))))})))))}}]),a}(n.Component),Y=(a(59),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).setInitialRandomDrawingObj=function(t){t.length>0&&e.setState({randomDrawingObj:e.getRandomArrayItem(e.state.drawingsArray)})},e.getRandomArrayItem=function(e){return e[Math.floor(Math.random()*e.length)]},e.setRandomIdStr=function(){e.setState({randomDrawingObj:e.getRandomArrayItem(e.state.drawingsArray)})},e.state={drawingsArray:[],randomDrawingObj:void 0},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;U.database().ref().on("value",(function(t){var a=t.val(),n=[];for(var r in a)n.push({drawingWord:a[r].drawingWord,drawingUrl:a[r].drawingUrl,drawingId:r});e.setState({drawingsArray:n}),e.setInitialRandomDrawingObj(n)}))}},{key:"render",value:function(){var e=this;return this.state.drawingsArray.length>0&&void 0!==this.state.randomDrawingObj?r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(g,null),r.a.createElement(v,{randomDrawingObj:this.state.randomDrawingObj,getRandomId:this.setRandomIdStr}),r.a.createElement(d.a,{exact:!0,path:"/",component:B}),r.a.createElement(d.a,{path:"/gallery",render:function(t){return r.a.createElement(L,Object.assign({},t,{drawings:e.state.drawingsArray}))}}),r.a.createElement(d.a,{path:"/guess/:imgId",render:function(t){return r.a.createElement(P,Object.assign({},t,{drawings:e.state.drawingsArray}))}}),r.a.createElement(H,null))):null}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.8f623416.chunk.js.map